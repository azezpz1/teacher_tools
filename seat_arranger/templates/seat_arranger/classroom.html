<!-- seating/templates/seating/classroom.html -->
{% extends "core/base.html" %} {% block content %}
<div style="max-width: 1000px; margin: 0 auto; padding: 20px">
  <div style="margin-bottom: 20px">
    <h1 style="font-size: 24px; font-weight: bold; margin-bottom: 16px">
      Classroom Seating Arrangement
    </h1>
    <button
      onclick="reshuffleSeats()"
      style="
        background-color: #3490dc;
        color: white;
        padding: 8px 16px;
        border-radius: 4px;
        border: none;
        cursor: pointer;
      "
    >
      Reshuffle Seats
    </button>
  </div>

  <div
    style="display: grid; gap: 16px; grid-template-columns: repeat({{ seating.cols }}, 1fr);"
  >
    {% for row in seating.grid %} {% for seat in row %} {% if seat %}
    <div
      style="
        background-color: white;
        padding: 16px;
        border-radius: 8px;
        border: 2px solid #bcdefa;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      "
    >
      <p style="font-weight: 500">{{ seat.name }}</p>
      <p style="font-size: 14px; color: #666">
        Row {{ seat.position.row|add:1 }}, Col {{ seat.position.col|add:1 }}
      </p>
    </div>
    {% else %}
    <div
      style="
        background-color: #f8f9fa;
        padding: 16px;
        border-radius: 8px;
        border: 2px solid #dee2e6;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      "
    >
      <p style="color: #999">Empty</p>
    </div>
    {% endif %} {% endfor %} {% endfor %}
  </div>
</div>

{% comment %}
<script>
  function reshuffleSeats() {
    fetch('{% url "reshuffle_seats" %}', {
      method: "POST",
      headers: {
        "X-CSRFToken": document.querySelector("[name=csrfmiddlewaretoken]")
          .value,
      },
    })
      .then((response) => response.json())
      .then((data) => {
        location.reload();
      });
  }
</script>
{% endcomment %} {% endblock %}
